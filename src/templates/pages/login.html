{% extends 'base/base.html' %}

{% block content %}
<section>
    <div class="container-fluid">
        <div class="row justify-content-center align-items-center">
            <div class="col-lg-5 col-sm-12 login-box text-start d-flex align-items-center justify-content-center">
                <div class='clw_form'>
                    <form action="{{url_for('login', to=red_from)}}" method='post'>
                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
                        <label for="authToken" class="h5 mt-3 mb-1">
                            {{_('Log in to continue')}}
                        </label>
                        {% for cat, msg in get_flashed_messages(True) %}
                        <div class="flash text-red mb-1">{{msg}}</div>
                        {% endfor %}
                        <p class='m-0 mb-1 text-red'>{% for error in form.psw.errors %}{{error}}{% endfor %}</p>
                        <div class="input-group">
                            <input name='{{form.psw.name}}' type="password" id="authToken" class="form-control"
                                aria-describedby="authTokenHint">
                            <div class="input-group-text p-0">
                                <button class='btn bi bi-eye' id='btn'
                                    onclick="return show_hide_password(this);"></button>
                            </div>
                        </div>
                        <div class="form-check form-switch mt-2">
                            <input class="form-check-input" type="checkbox" role="switch" id="stayCheckBox"
                                name="{{form.stay_box.name}}">
                            <label class="form-check-label" for="stayCheckBox">{{_('Stay in system')}}</label>
                        </div>
                        <div class="text-end">
                            <button type="submit" class='btn btn-outline-success mt-3'>{{_('Login')}}</button>
                            <a href="{{url_for('index')}}"
                                class='btn btn-outline-danger ms-2 mt-3'>{{_('Homepage')}}</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
</section>
{% endblock %}